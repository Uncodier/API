---
title: API de Requisitos para Segmentos
description: Documentaci칩n para el API de requisitos espec칤ficos basados en segmentos de audiencia
---

# API de Requisitos para Segmentos

El endpoint `/api/site/requirements` permite obtener un conjunto de requisitos espec칤ficos y recomendaciones t칠cnicas personalizadas basadas en segmentos de audiencia. Esta API es 칰til para identificar las necesidades t칠cnicas, funcionales y de experiencia de usuario que un sitio debe cumplir para satisfacer a un segmento espec칤fico de audiencia.

> 游늵 **Requisitos t칠cnicos personalizados para cada segmento** 
> 
> Esta API analiza las necesidades espec칤ficas de cada segmento de audiencia y proporciona
> recomendaciones detalladas sobre aspectos t칠cnicos, funcionales y de contenido que un sitio web
> debe implementar para optimizar la experiencia de usuario de ese segmento particular. Ideal para 
> dise침o centrado en el usuario y desarrollo web personalizado.

## Caracter칤sticas principales

- Requisitos t칠cnicos y funcionales personalizados para segmentos espec칤ficos
- An치lisis de necesidades de accesibilidad, rendimiento y usabilidad
- Recomendaciones sobre caracter칤sticas y funcionalidades clave
- Puntuaciones de prioridad para cada requisito
- Evaluaci칩n de conformidad del sitio actual con los requisitos identificados
- Soporte para diferentes modelos de IA para el an치lisis de requisitos
- Recomendaciones espec칤ficas para dispositivos (m칩vil, desktop, tablet)

import { UnifiedApiTester } from '@/components/ApiTester';

<UnifiedApiTester 
  apiType="requirements" 
  title="Analizador de Requisitos por Segmento"
  description="Prueba el API de requisitos para segmentos con tus propios par치metros."
  defaultEndpoint="/api/site/requirements"
  defaultMethod="POST"
  showModelOptions={true}
  defaultModelType="anthropic"
  defaultModel="claude-3-5-sonnet-20240620"
/>

## Par치metros de solicitud

| Par치metro | Tipo | Descripci칩n | Valores posibles | Requerido |
|-----------|------|-------------|------------------|-----------|
| `url` | string | URL del sitio | URL v치lida | S칤 |
| `segment_id` | string | ID del segmento para el que se analizar치n los requisitos | Cualquier ID v치lido | S칤 |
| `requirement_types` | array | Tipos de requisitos a analizar | `technical`, `functional`, `accessibility`, `performance`, `usability`, `content` | No (default: todos) |
| `limit` | number | N칰mero m치ximo de requisitos | 1-50 | No (default: 15) |
| `user_id` | string | ID del usuario | Cualquier ID v치lido | No |
| `site_id` | string | ID del sitio | Cualquier ID v치lido | No |
| `priority_level` | string | Filtrar por nivel de prioridad m칤nimo | `all`, `critical`, `high`, `medium`, `low` | No (default: `all`) |
| `device_type` | string | Filtrar por tipo de dispositivo | `all`, `mobile`, `desktop`, `tablet` | No (default: `all`) |
| `aiProvider` | string | Proveedor del modelo de IA | `openai`, `anthropic`, `gemini` | No |
| `aiModel` | string | ID del modelo de IA | Depende del proveedor | No |
| `timeout` | number | Tiempo m치ximo de espera en ms | 5000-120000 | No (default: 30000) |
| `include_implementation` | boolean | Si se deben incluir gu칤as de implementaci칩n | `true`, `false` | No (default: `true`) |
| `include_conformity` | boolean | Si se debe incluir evaluaci칩n de conformidad actual | `true`, `false` | No (default: `true`) |
| `includeScreenshot` | boolean | Si se debe incluir una captura de pantalla del sitio | `true`, `false` | No (default: `true`) |

## Ejemplos de uso

### Solicitud b치sica de requisitos

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "limit": 15
}
```

### Requisitos filtrados por tipo y prioridad

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "requirement_types": ["technical", "functional"],
  "limit": 10,
  "priority_level": "high"
}
```

### Requisitos con configuraci칩n personalizada

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "requirement_types": ["accessibility", "usability"],
  "limit": 20,
  "device_type": "mobile",
  "aiProvider": "anthropic",
  "aiModel": "claude-3-5-sonnet-20240620",
  "include_implementation": true,
  "includeScreenshot": true
}
```

## Respuesta

La respuesta incluye los siguientes campos:

| Campo | Tipo | Descripci칩n |
|-------|------|-------------|
| `url` | string | URL del sitio |
| `segment_id` | string | ID del segmento analizado |
| `requirements` | array | Lista de requisitos identificados |
| `total_requirements` | number | N칰mero total de requisitos encontrados |
| `returned_requirements` | number | N칰mero de requisitos devueltos (limitado por `limit`) |
| `conformity_score` | object | Puntuaci칩n de conformidad del sitio con los requisitos |
| `created_requirements` | array | IDs de requisitos creados en la base de datos (solo en modo "create") |
| `metadata` | object | Metadatos de la solicitud y an치lisis |

### Ejemplo de respuesta completa

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "requirements": [
    {
      "id": "req_12345",
      "title": "Editor de im치genes integrado para optimizaci칩n de contenido visual",
      "description": "Implementar una herramienta de edici칩n de im치genes directamente en el CMS que permita a los creadores de contenido recortar, redimensionar, ajustar brillo/contraste y aplicar filtros b치sicos sin necesidad de software externo.",
      "priority": "high",
      "status": "pending",
      "completion_status": "not_started",
      "source": "segment_analysis",
      "type": "technical",
      "rationale": "Los creadores de contenido necesitan editar im치genes frecuentemente y prefieren soluciones integradas que agilicen su flujo de trabajo.",
      "devices": ["desktop", "tablet"],
      "implementation": {
        "difficulty": "medium",
        "estimated_time": "2-3 semanas",
        "technologies": ["JavaScript", "Canvas API", "React"],
        "suggested_libraries": ["Fabric.js", "Cropper.js"],
        "steps": [
          "Integrar una biblioteca de edici칩n de im치genes como Fabric.js en el frontend",
          "Desarrollar controles de usuario intuitivos para operaciones b치sicas",
          "Implementar sistema de guardado y recuperaci칩n de im치genes editadas",
          "Asegurar compatibilidad con formatos populares (PNG, JPG, WebP)"
        ]
      },
      "conformity": {
        "status": "missing",
        "score": 0,
        "notes": "El sitio actual no ofrece ninguna funcionalidad de edici칩n de im치genes integrada."
      },
      "impact_score": 0.85,
      "created_at": "2024-07-15T16:42:18Z",
      "updated_at": "2024-07-15T16:42:18Z"
    },
    {
      "id": "req_23456",
      "title": "Programaci칩n y automatizaci칩n de publicaciones en m칰ltiples plataformas",
      "description": "Desarrollar una funcionalidad que permita programar publicaciones y sincronizarlas autom치ticamente con diferentes plataformas sociales (Instagram, TikTok, YouTube, X, etc.).",
      "priority": "critical",
      "status": "in_progress",
      "completion_status": "partial",
      "source": "segment_analysis",
      "type": "functional",
      "rationale": "Los creadores de contenido necesitan mantener presencia consistente en m칰ltiples plataformas y optimizar el tiempo dedicado a tareas repetitivas de publicaci칩n.",
      "devices": ["all"],
      "implementation": {
        "difficulty": "high",
        "estimated_time": "4-6 semanas",
        "technologies": ["Node.js", "OAuth", "APIs de redes sociales"],
        "suggested_libraries": ["node-social-api", "contentful-scheduler"],
        "steps": [
          "Implementar autenticaci칩n OAuth para cada plataforma social",
          "Desarrollar interfaz de usuario para programaci칩n de contenido",
          "Crear sistema de colas para gestionar publicaciones programadas",
          "Implementar servicios de notificaci칩n para 칠xitos/fallos de publicaci칩n",
          "Configurar an치lisis de rendimiento post-publicaci칩n"
        ]
      },
      "conformity": {
        "status": "partial",
        "score": 0.3,
        "notes": "El sitio actual permite programar publicaciones solo para Instagram, sin sincronizaci칩n con otras plataformas."
      },
      "impact_score": 0.95,
      "created_at": "2024-07-15T16:42:18Z",
      "updated_at": "2024-07-15T16:42:18Z"
    },
    {
      "id": "req_34567",
      "title": "Soporte para subt칤tulos y transcripciones autom치ticas",
      "description": "Implementar generaci칩n autom치tica de subt칤tulos y transcripciones para contenido de video y audio, con posibilidad de editar y corregir manualmente.",
      "priority": "high",
      "status": "pending",
      "completion_status": "not_started",
      "source": "segment_analysis",
      "type": "accessibility",
      "rationale": "Mejora la accesibilidad del contenido para personas con discapacidad auditiva y facilita la distribuci칩n multiplataforma del contenido en diferentes formatos.",
      "devices": ["all"],
      "implementation": {
        "difficulty": "medium",
        "estimated_time": "3-4 semanas",
        "technologies": ["Web Speech API", "FFmpeg", "NLP"],
        "suggested_libraries": ["whisper-api", "subtitle.js"],
        "steps": [
          "Integrar API de reconocimiento de voz (como OpenAI Whisper)",
          "Desarrollar editor de subt칤tulos con sincronizaci칩n temporal",
          "Implementar convertidor de subt칤tulos a transcripciones completas",
          "A침adir soporte para m칰ltiples idiomas",
          "Integrar con el reproductor de video existente"
        ]
      },
      "conformity": {
        "status": "missing",
        "score": 0,
        "notes": "El sitio actual no ofrece generaci칩n de subt칤tulos ni transcripciones para contenido multimedia."
      },
      "impact_score": 0.8,
      "created_at": "2024-07-15T16:42:18Z",
      "updated_at": "2024-07-15T16:42:18Z"
    }
  ],
  "total_requirements": 42,
  "returned_requirements": 3,
  "created_requirements": [],
  "conformity_score": {
    "overall": 0.45,
    "by_type": {
      "technical": 0.38,
      "functional": 0.52,
      "accessibility": 0.31,
      "performance": 0.68,
      "usability": 0.47,
      "content": 0.55
    },
    "by_priority": {
      "critical": 0.33,
      "high": 0.42,
      "medium": 0.58,
      "low": 0.71
    }
  },
  "metadata": {
    "request": {
      "timestamp": "2024-07-15T16:42:18Z",
      "parameters": {
        "url": "https://ejemplo.com",
        "segment_id": "seg_content_creators",
        "requirement_types": ["technical", "functional", "accessibility"],
        "limit": 3,
        "mode": "analyze"
      }
    },
    "analysis": {
      "modelUsed": "claude-3-5-sonnet-20240620",
      "aiProvider": "anthropic",
      "processingTime": "1.85 seconds",
      "segmentDataSource": "seg_content_creators (last updated: 2024-07-10)",
      "siteScanDate": "2024-07-15T15:30:22Z",
      "status": "success",
      "analysisMetrics": [
        "Patrones de comportamiento del segmento",
        "Necesidades espec칤ficas del sector",
        "Est치ndares de accesibilidad WCAG 2.1",
        "Mejores pr치cticas de UX/UI 2024"
      ]
    }
  }
}
```

## C칩digos de estado

| C칩digo | Descripci칩n |
|--------|-------------|
| 200 | Solicitud exitosa |
| 400 | Par치metros inv치lidos |
| 404 | Segmento no encontrado |
| 429 | L칤mite de solicitudes excedido |
| 500 | Error interno del servidor | 