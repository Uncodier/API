---
title: API de Perfiles de Cliente Ideal (ICP)
description: Documentaci칩n para el API de an치lisis y creaci칩n de perfiles de cliente ideal basados en segmentos
---

# API de Perfiles de Cliente Ideal (ICP)

El endpoint `/api/site/icp` permite analizar y crear perfiles de cliente ideal (ICP) basados en segmentos de audiencia existentes. Esta API es 칰til para entender mejor a tus clientes m치s valiosos y personalizar tu estrategia de marketing y contenido.

> 游꿢 **Conoce a tu cliente ideal** 
> 
> Esta API utiliza modelos avanzados de IA para crear perfiles detallados de tus clientes ideales,
> analizando comportamientos, preferencias y caracter칤sticas demogr치ficas. Ideal para mejorar
> la personalizaci칩n y efectividad de tus campa침as de marketing.

## Caracter칤sticas principales

- An치lisis detallado de perfiles de cliente ideal basados en segmentos
- Creaci칩n autom치tica de perfiles en la base de datos del usuario
- Personalizaci칩n basada en diferentes m칠tricas (engagement, conversi칩n, satisfacci칩n)
- Soporte para diferentes modelos de IA para el an치lisis
- Integraci칩n con plataformas de marketing y CRM
- Recomendaciones de contenido y estrategias de comunicaci칩n

import { UnifiedApiTester } from '@/components/ApiTester';

<UnifiedApiTester 
  apiType="icp" 
  title="Analizador de Perfiles de Cliente Ideal"
  description="Prueba el API de an치lisis de perfiles de cliente ideal con tus propios par치metros."
  defaultEndpoint="/api/site/icp"
  defaultMethod="POST"
  defaultUrl="https://ejemplo.com"
  defaultSegmentId="seg_content_creators"
  defaultMode="analyze"
  defaultTimeout="45000"
  showModelOptions={true}
  defaultModelType="anthropic"
  defaultModel="claude-3-5-sonnet-20240620"
  showSiteUrlField={true}
  additionalFields={[
    {
      name: "url",
      label: "URL del sitio a analizar",
      type: "text",
      defaultValue: "https://ejemplo.com",
      placeholder: "https://tusitio.com",
      required: true
    },
    {
      name: "segment_id",
      label: "ID del Segmento",
      type: "text",
      defaultValue: "seg_content_creators",
      placeholder: "ID del segmento en la base de datos",
      required: true
    },
    {
      name: "mode",
      label: "Modo de operaci칩n",
      type: "select",
      options: [
        { value: "analyze", label: "An치lisis (sin crear perfiles)" },
        { value: "create", label: "Creaci칩n (crear perfiles nuevos)" },
        { value: "update", label: "Actualizaci칩n (actualizar perfiles existentes)" }
      ],
      defaultValue: "analyze"
    },
    {
      name: "user_id",
      label: "ID de Usuario (opcional)",
      type: "text",
      placeholder: "user_123456"
    },
    {
      name: "site_id",
      label: "ID del Sitio (opcional)",
      type: "text",
      placeholder: "site_789012"
    },
    {
      name: "includeScreenshot",
      label: "Incluir captura de pantalla",
      type: "checkbox",
      defaultValue: true
    }
  ]}
/>

## Par치metros de solicitud

| Par치metro | Tipo | Descripci칩n | Valores posibles | Requerido |
|-----------|------|-------------|------------------|-----------|
| `url` | string | URL del sitio a analizar | URL v치lida | S칤 |
| `segment_id` | string | ID del segmento en la base de datos | Cualquier ID v치lido | S칤 |
| `mode` | string | Modo de operaci칩n | `analyze`, `create`, `update` | No (default: `analyze`) |
| `user_id` | string | ID del usuario | Cualquier ID v치lido | Solo para create/update |
| `site_id` | string | ID del sitio | Cualquier ID v치lido | Solo para create/update |
| `includeScreenshot` | boolean | Si se debe incluir captura de pantalla | `true`, `false` | No (default: `true`) |
| `aiProvider` | string | Proveedor del modelo de IA | `openai`, `anthropic`, `gemini` | No |
| `aiModel` | string | ID del modelo de IA | Depende del proveedor | No |
| `timeout` | number | Tiempo m치ximo de espera en ms | 5000-120000 | No (default: 45000) |
| `personalizationMetrics` | array | M칠tricas para personalizaci칩n | `engagementRate`, `conversionRate`, `customerSatisfaction` | No (default: [`engagementRate`, `conversionRate`]) |
| `minConfidenceScore` | number | Puntuaci칩n m칤nima de confianza | 0-1 | No (default: 0.7) |

## Ejemplos de uso

### Solicitud b치sica de an치lisis

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators"
}
```

### Crear un perfil de cliente ideal

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "mode": "create",
  "user_id": "user_123456",
  "site_id": "site_789012"
}
```

### An치lisis con configuraci칩n personalizada

```json
{
  "url": "https://ejemplo.com",
  "segment_id": "seg_content_creators",
  "mode": "analyze",
  "aiProvider": "anthropic",
  "aiModel": "claude-3-5-sonnet-20240620",
  "includeScreenshot": true
}
```

## Respuesta

La respuesta incluye los siguientes campos:

| Campo | Tipo | Descripci칩n |
|-------|------|-------------|
| `url` | string | URL del sitio analizado |
| `segment_id` | string | ID del segmento analizado |
| `profile` | object | Perfil de cliente ideal generado |
| `createdInDatabase` | boolean | Si el perfil fue creado en la base de datos |
| `databaseId` | string | ID del perfil en la base de datos (si fue creado) |
| `analysisMetadata` | object | Metadatos del an치lisis (modelo, tiempo, confianza) |

### Ejemplo de respuesta completa

```json
{
  "url": "https://example.com",
  "segment_id": "seg_content_creators",
  "profile": {
    "id": "icp_content_creators_2024",
    "name": "Professional Content Creators",
    "description": "Digital content creation professionals seeking tools to optimize their workflow and increase their reach",
    "demographics": {
      "ageRange": {
        "primary": "30-35",
        "secondary": "25-45"
      },
      "gender": {
        "distribution": "Balanced with slight female majority"
      },
      "locations": [
        {
          "type": "country",
          "name": "Spain",
          "relevance": "High"
        },
        {
          "type": "country",
          "name": "Mexico",
          "relevance": "Medium-high"
        },
        {
          "type": "country",
          "name": "Colombia",
          "relevance": "Medium"
        },
        {
          "type": "region",
          "name": "Latin America",
          "relevance": "High"
        }
      ],
      "education": {
        "primary": "Bachelor's Degree",
        "secondary": ["High School", "Graduate Degree"]
      },
      "income": {
        "currency": "EUR",
        "level": "Medium",
        "range": "30,000-80,000 annually"
      },
      "languages": [
        {
          "name": "Spanish",
          "proficiency": "Native",
          "relevance": "Very high"
        },
        {
          "name": "English",
          "proficiency": "Intermediate-advanced",
          "relevance": "High"
        }
      ]
    },
    "psychographics": {
      "values": [
        {
          "name": "Creativity",
          "importance": "Very high",
          "description": "Value creative expression and originality in their work"
        },
        {
          "name": "Independence",
          "importance": "High",
          "description": "Appreciate the freedom to work on their own terms"
        },
        {
          "name": "Recognition",
          "importance": "High",
          "description": "Seek recognition for the quality of their work"
        },
        {
          "name": "Authenticity",
          "importance": "High",
          "description": "Value being genuine in their communication and content"
        }
      ],
      "interests": [
        "Digital technology",
        "Social media trends",
        "Editing tools",
        "Content marketing",
        "Digital storytelling"
      ],
      "goals": [
        {
          "name": "Audience growth",
          "priority": "High",
          "description": "Increase their follower base and reach"
        },
        {
          "name": "Monetization",
          "priority": "High",
          "description": "Generate stable income from their content"
        },
        {
          "name": "Efficiency",
          "priority": "Medium",
          "description": "Optimize their workflow to produce more quality content"
        },
        {
          "name": "Personal brand development",
          "priority": "Medium",
          "description": "Strengthen their identity and recognition in their niche"
        }
      ],
      "challenges": [
        {
          "name": "Market saturation",
          "severity": "High",
          "description": "Difficulty standing out in a saturated digital space"
        },
        {
          "name": "Changing algorithms",
          "severity": "High",
          "description": "Constant adaptation to platform algorithm changes"
        },
        {
          "name": "Creative burnout",
          "severity": "Medium",
          "description": "Maintaining creativity and avoiding exhaustion"
        }
      ],
      "motivations": [
        {
          "name": "Financial freedom",
          "strength": "High",
          "description": "Desire for economic independence through their creative work"
        },
        {
          "name": "Social impact",
          "strength": "Medium-high",
          "description": "Positively influence their audience"
        },
        {
          "name": "Self-expression",
          "strength": "Very high",
          "description": "Communicate unique ideas and perspectives"
        }
      ]
    },
    "behavioralTraits": {
      "onlineBehavior": {
        "deviceUsage": {
          "primary": "Mobile",
          "secondary": "Desktop",
          "tertiary": "Tablet"
        },
        "socialPlatforms": [
          {
            "name": "Instagram",
            "usageFrequency": "Daily",
            "engagementLevel": "High",
            "relevance": "Very high"
          },
          {
            "name": "YouTube",
            "usageFrequency": "Daily",
            "engagementLevel": "High",
            "relevance": "Very high"
          },
          {
            "name": "TikTok",
            "usageFrequency": "Daily",
            "engagementLevel": "Medium",
            "relevance": "High"
          },
          {
            "name": "Twitter",
            "usageFrequency": "Weekly",
            "engagementLevel": "Medium",
            "relevance": "Medium-high"
          }
        ],
        "browsingHabits": {
          "peakHours": ["Morning (8:00-10:00)", "Evening (19:00-23:00)"],
          "contentPreferences": ["Tutorials", "Trend analysis", "Tool reviews"]
        }
      },
      "purchasingBehavior": {
        "decisionFactors": [
          {
            "name": "Value for money",
            "importance": "High",
            "description": "Look for tools that offer good value for their investment"
          },
          {
            "name": "Ease of use",
            "importance": "High",
            "description": "Prefer intuitive solutions that don't require a long learning curve"
          },
          {
            "name": "Integration with existing tools",
            "importance": "Medium-high",
            "description": "Value compatibility with their current tech stack"
          }
        ],
        "priceRange": {
          "subscription": {
            "monthly": {
              "preference": "15-50 EUR",
              "optimal": "Around 30 EUR"
            },
            "annual": {
              "preference": "150-500 EUR",
              "optimal": "Around 300 EUR"
            }
          },
          "oneTime": {
            "preference": "50-300 EUR",
            "optimal": "Around 150 EUR"
          }
        },
        "purchaseFrequency": {
          "software": "Quarterly",
          "hardware": "Yearly",
          "education": "Bimonthly"
        }
      },
      "contentConsumption": {
        "preferredFormats": [
          {
            "type": "Video",
            "preference": "High",
            "idealDuration": "5-15 minutes"
          },
          {
            "type": "Articles",
            "preference": "Medium-high",
            "idealLength": "800-1500 words"
          },
          {
            "type": "Podcasts",
            "preference": "Medium",
            "idealDuration": "20-40 minutes"
          }
        ],
        "researchHabits": {
          "depth": "Medium-deep",
          "sources": ["User reviews", "Comparisons", "Specialized communities"],
          "timeSpent": "1-3 hours before important decisions"
        }
      }
    },
    "professionalContext": {
      "industries": [
        "Digital marketing",
        "Digital media",
        "Online education",
        "Entertainment"
      ],
      "roles": [
        {
          "title": "Independent content creator",
          "relevance": "Very high"
        },
        {
          "title": "Influencer",
          "relevance": "High"
        },
        {
          "title": "Content marketing specialist",
          "relevance": "Medium"
        },
        {
          "title": "Online educator",
          "relevance": "Medium"
        }
      ],
      "companySize": {
        "primary": "Freelance/Self-employed",
        "secondary": ["Small (2-10)", "Medium (11-50)"]
      },
      "decisionMakingPower": {
        "level": "High",
        "description": "Generally make final decisions about tools and resources"
      },
      "painPoints": [
        {
          "name": "Time management",
          "severity": "High",
          "description": "Difficulty balancing content creation, editing, and promotion"
        },
        {
          "name": "Consistency",
          "severity": "Medium",
          "description": "Maintaining a regular publishing schedule"
        },
        {
          "name": "Data analysis",
          "severity": "Medium",
          "description": "Interpreting metrics to optimize strategies"
        }
      ],
      "tools": {
        "current": [
          "Adobe Creative Suite",
          "Canva",
          "Hootsuite",
          "Google Analytics",
          "Final Cut Pro"
        ],
        "desired": [
          "AI editing tools",
          "Advanced analytics platforms",
          "Automation solutions"
        ]
      }
    },
    "customAttributes": [
      {
        "name": "Technology adoption level",
        "value": "Early adopters",
        "description": "Tend to try new tools and platforms before most people"
      },
      {
        "name": "Communication style",
        "value": "Direct and visual",
        "description": "Prefer clear communication rich in visual elements"
      },
      {
        "name": "Price sensitivity",
        "value": "Medium",
        "description": "Willing to invest in quality tools but conscious of value"
      },
      {
        "name": "Specialization level",
        "value": "Medium-high",
        "description": "Deep knowledge in their specific niche"
      }
    ]
  },
  "createdInDatabase": true,
  "databaseId": "icp_78901234",
  "analysisMetadata": {
    "modelUsed": "claude-3-5-sonnet-20240620",
    "aiProvider": "anthropic",
    "confidenceLevel": "High",
    "analysisDate": "2024-07-15T14:32:45Z",
    "processingTime": "12.45 seconds",
    "dataSourcesUsed": [
      "Site browsing behavior",
      "User survey data",
      "Social media analysis",
      "Historical purchase patterns"
    ]
  }
}
```

## C칩digos de estado

| C칩digo | Descripci칩n |
|--------|-------------|
| 200 | Solicitud exitosa |
| 400 | Par치metros inv치lidos |
| 404 | Segmento no encontrado |
| 500 | Error interno del servidor | 