<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personalization Example</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .hero-title {
      font-size: 42px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #1a73e8;
    }
    
    .hero-subtitle {
      font-size: 22px;
      font-weight: normal;
      color: #555;
      margin-bottom: 30px;
    }
    
    .cta-button {
      display: inline-block;
      background-color: #1a73e8;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    
    .cta-button:hover {
      background-color: #0d62d6;
    }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin: 50px 0;
    }
    
    .feature {
      padding: 20px;
      border-radius: 8px;
      background-color: #f5f7fa;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    .feature-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #1a73e8;
    }
    
    .controls {
      margin: 40px 0;
      padding: 20px;
      background-color: #f5f7fa;
      border-radius: 8px;
    }
    
    .controls button {
      margin-right: 10px;
      margin-bottom: 10px;
      padding: 8px 16px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background-color: white;
      cursor: pointer;
    }
    
    .controls button:hover {
      background-color: #f0f0f0;
    }
    
    .code-example {
      background-color: #f8f9fa;
      padding: 15px;
      border-radius: 6px;
      font-family: monospace;
      overflow-x: auto;
      margin-bottom: 20px;
      border-left: 4px solid #1a73e8;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1 class="hero-title">Welcome to Our Website</h1>
    <p class="hero-subtitle">The best platform for your needs</p>
    <button class="cta-button">Get Started</button>
  </div>
  
  <div class="features">
    <div class="feature">
      <h3 class="feature-title">Feature One</h3>
      <p>This is a description of our first amazing feature that will help you.</p>
    </div>
    <div class="feature">
      <h3 class="feature-title">Feature Two</h3>
      <p>Another fantastic feature that makes our product stand out.</p>
    </div>
    <div class="feature">
      <h3 class="feature-title">Feature Three</h3>
      <p>The third feature that completes our offering and makes it perfect.</p>
    </div>
  </div>
  
  <div class="controls">
    <h2>Personalization Controls</h2>
    <p>Click the buttons below to apply different personalizations to the page:</p>
    
    <button id="btn-personalize-1">Apply Basic Personalization</button>
    <button id="btn-personalize-2">Apply Product Personalization</button>
    <button id="btn-reset">Reset Content</button>
  </div>
  
  <h2>How to Use the Personalizer</h2>
  <p>Include the standalone script in your HTML:</p>
  <pre class="code-example">&lt;script src="standalone-personalizer.js"&gt;&lt;/script&gt;</pre>
  
  <p>Then call the personalizer with your content:</p>
  <pre class="code-example">
SitePersonalizer.apply([
  { selector: '.hero-title', content: 'Personalized Headline' },
  { selector: '.cta-button', content: 'Click Now' }
]);
  </pre>
  
  <!-- Include the standalone personalizer script -->
  <script src="standalone-personalizer.js"></script>
  
  <script>
    // Store original content
    const originalContent = {
      title: document.querySelector('.hero-title').innerHTML,
      subtitle: document.querySelector('.hero-subtitle').innerHTML,
      cta: document.querySelector('.cta-button').innerHTML,
      features: Array.from(document.querySelectorAll('.feature-title')).map(el => el.innerHTML)
    };
    
    // Basic personalization example
    document.getElementById('btn-personalize-1').addEventListener('click', function() {
      SitePersonalizer.apply([
        { selector: '.hero-title', content: 'Empower Your Digital Content Creation' },
        { selector: '.hero-subtitle', content: 'Take Your Content to the Next Level with One Click' },
        { selector: '.cta-button', content: 'Start Creating Now' }
      ], true); // true = apply immediately
    });
    
    // Product-specific personalization
    document.getElementById('btn-personalize-2').addEventListener('click', function() {
      SitePersonalizer.apply([
        { selector: '.hero-title', content: 'Unleash the Power of Automated Insights' },
        { selector: '.hero-subtitle', content: 'AI-Powered Analytics for Digital Creators' },
        { selector: '.cta-button', content: 'Try It Free' },
        { selector: '.feature-title:nth-child(1)', content: 'Smart Analysis' },
        { selector: '.feature:nth-child(1) p', content: 'Our AI analyzes your content and provides intelligent insights.' },
        { selector: '.feature-title:nth-child(2)', content: 'Performance Tracking' },
        { selector: '.feature:nth-child(2) p', content: 'Track your content performance with detailed analytics.' }
      ], true);
    });
    
    // Reset to original content
    document.getElementById('btn-reset').addEventListener('click', function() {
      document.querySelector('.hero-title').innerHTML = originalContent.title;
      document.querySelector('.hero-subtitle').innerHTML = originalContent.subtitle;
      document.querySelector('.cta-button').innerHTML = originalContent.cta;
      
      document.querySelectorAll('.feature-title').forEach((el, index) => {
        if (originalContent.features[index]) {
          el.innerHTML = originalContent.features[index];
        }
      });
    });
    
    // Example of how to parse existing code and apply it
    function applyExistingCode() {
      const legacyCode = `document.addEventListener("DOMContentLoaded",function(){function a(s,c){try{const e=document.querySelector(s);if(e){c(e);return!0}return!1}catch(e){return!1}}function b(e,h){try{e.innerHTML=h}catch(e){}}a(".hero-title",function(e){b(e,"Welcome Back!");});a(".cta-button",function(e){b(e,"Continue");});});`;
      
      // This would apply the personalizations from the legacy code
      // Commented out to not interfere with the button examples
      // SitePersonalizer.applyCode(legacyCode, true);
    }
  </script>
</body>
</html> 