---
title: Website UX Analysis API
description: Comprehensive documentation for the advanced website analysis API
---

# Website UX Analysis API

The `/api/site/analyze` endpoint performs comprehensive website analysis, evaluating performance, SEO, accessibility, and best practices.

## Key Features

- Advanced and flexible implementation
- Multiple analysis types: basic, complete, and structured
- Specialized services for each analysis type
- Multiple advanced configuration options
- Supports multiple AI providers (OpenAI, Anthropic, Gemini)
- Sophisticated error handling system

import { UnifiedApiTester } from '@/components/ApiTester';

<UnifiedApiTester 
  apiType="site" 
  title="Website Analyzer"
  description="Test the website analysis API with your own parameters."
  defaultEndpoint="/api/site/analyze"
  defaultMethod="POST"
  defaultUrl="https://example.com"
  defaultTimeout="30000"
  showScreenshotOption={true}
  showModelOptions={true}
  defaultModelType="openai"
  defaultModel="gpt-5-nano"
  showAnalysisTypeField={false}
/>

## Analysis Types

### Basic analysis (`basic`)

Provides a quick, general analysis including:
- Basic site information
- General structure
- Obvious issues

### Complete analysis (`complete`)

Provides a deeper analysis, including:
- Everything in the basic analysis
- Performance evaluation
- SEO analysis
- Accessibility checks
- Best practices
- Detailed recommendations

### Structured analysis (`structured`)

Provides a structural analysis, including:
- Heading hierarchy
- Content blocks
- Semantic structure
- Relationships between elements

## Available Methods

### POST /api/site/analyze

Performs a complete analysis of a website across performance, SEO, accessibility, and best practices.

#### Request Parameters

```json
{
  "url": "https://example.com", // Site URL (required)
  "options": {
    "analysisType": "complete", // Analysis type: 'basic', 'complete', 'structured'
    "depth": 2, // Analysis depth (1-3)
    "timeout": 30000, // Max wait time in milliseconds (between 5000 and 60000)
    "ignoreSSL": false, // Ignore SSL certificate errors
    "userAgent": "Mozilla/5.0...", // Custom User Agent (optional)
    "failOnError": false, // If false, continue even with errors
    "safeSelectors": true, // Validate selectors before use
    "includeScreenshot": true, // Include screenshot in response
    "aiProvider": "openai", // AI provider: 'openai', 'anthropic', 'gemini'
    "aiModel": "gpt-5-nano" // Specific AI model to use
  }
}
```

#### Response

```json
{
  "url": "https://example.com",
  "title": "Site title",
  "description": "Site description",
  "screenshot": "data:image/png;base64,...", // Base64 screenshot (optional)
  "performance": {
    "overall": 85,
    "firstContentfulPaint": {
      "score": 90,
      "label": "First Contentful Paint",
      "description": "Time until first content is displayed"
    },
    "largestContentfulPaint": {
      "score": 85,
      "label": "Largest Contentful Paint",
      "description": "Time until main content is displayed"
    },
    // Otras métricas de rendimiento...
  },
  "seo": {
    "overall": 88,
    "metaTags": {
      "score": 95,
      "label": "Meta Tags",
      "description": "Correct use of meta tags"
    },
    // Otras métricas de SEO...
  },
  "accessibility": {
    "overall": 78,
    "contrast": {
      "score": 80,
      "label": "Contrast",
      "description": "Adequate contrast between text and background"
    },
    // Otras métricas de accesibilidad...
  },
  "bestPractices": {
    "overall": 82,
    "httpsUsage": {
      "score": 100,
      "label": "HTTPS Usage",
      "description": "The site correctly uses HTTPS"
    },
    // Otras métricas de mejores prácticas...
  },
  "technologies": [
    {
      "name": "React",
      "version": "18.2.0",
      "category": "JavaScript Framework"
    },
    // Otras tecnologías detectadas...
  ],
  "resources": {
    "total": 45,
    "totalSize": 2500000,
    "byType": {
      "image": {
        "count": 15,
        "size": 1200000
      },
      "script": {
        "count": 12,
        "size": 800000
      }
      // Otros tipos de recursos...
    },
    "largest": [
      {
        "url": "https://ejemplo.com/imagen.jpg",
        "type": "image",
        "size": 500000,
        "transferSize": 480000
      }
      // Otros recursos grandes...
    ]
  },
  "recommendations": [
    {
      "category": "performance",
      "priority": "high",
      "issue": "Unoptimized images",
      "recommendation": "Optimize and compress images to reduce size",
      "impact": "Significant improvement to load times"
    },
    // Otras recomendaciones...
  ],
  "timestamp": "2023-06-15T14:30:00Z",
  "analyzedBy": "AI Site Analyzer v1.0",
  "analysisVersion": "1.0.0",
  "processingTime": 12345,
  "errors": [
    {
      "code": "RESOURCE_LOAD_ERROR",
      "message": "No se pudo cargar un recurso",
      "details": "https://ejemplo.com/script.js",
      "recoverable": true
    }
    // Otros errores no críticos...
  ],
  "completeness": 98 // Porcentaje de completitud del análisis (0-100)
}
```

### GET /api/site/analyze

Retrieves information about the analysis service.

#### Response

```json
{
  "service": "AI Site Analyzer",
  "version": "1.0.0",
  "status": "operational",
  "capabilities": [
    "performance",
    "seo",
    "accessibility",
    "best-practices",
    "technology-detection"
  ],
  "limits": {
    "requestsPerDay": 100,
    "maxTimeout": 60000
  }
}
```

### POST /api/site/analyze/structure

Realiza un análisis estructural del sitio web, enfocado en la estructura del DOM y la organización del contenido.

#### Parámetros de solicitud

```json
{
  "url": "https://ejemplo.com", // URL del sitio (obligatorio)
  "htmlContent": "<html>...</html>", // HTML de la página (opcional)
  "screenshot": "data:image/png;base64,...", // Captura de pantalla en Base64 (opcional)
  "options": {
    "timeout": 30000, // Tiempo máximo de espera en milisegundos
    "userAgent": "Mozilla/5.0...", // User Agent personalizado (opcional)
    "depth": 2, // Profundidad del análisis (1-3)
    "includeScreenshot": true, // Incluir captura de pantalla en la respuesta
    "aiProvider": "openai", // Proveedor de IA: 'openai', 'anthropic', 'gemini'
    "aiModel": "gpt-5-nano" // Modelo específico de IA a utilizar
  }
}
```

#### Respuesta

```json
{
  "url": "https://ejemplo.com",
  "structure": {
    "headings": {
      "h1": 1,
      "h2": 5,
      "h3": 12,
      "h4": 8
    },
    "sections": [
      {
        "type": "header",
        "elements": 5,
        "importance": "high"
      },
      {
        "type": "main-content",
        "elements": 25,
        "importance": "high"
      },
      {
        "type": "sidebar",
        "elements": 10,
        "importance": "medium"
      },
      {
        "type": "footer",
        "elements": 8,
        "importance": "low"
      }
    ],
    "navigation": {
      "mainMenu": {
        "items": 6,
        "depth": 2
      },
      "footer": {
        "items": 4,
        "depth": 1
      }
    },
    "contentBlocks": [
      {
        "type": "hero",
        "elements": 3,
        "position": "top"
      },
      {
        "type": "features",
        "elements": 12,
        "position": "middle"
      },
      {
        "type": "testimonials",
        "elements": 6,
        "position": "middle-bottom"
      },
      {
        "type": "contact",
        "elements": 5,
        "position": "bottom"
      }
    ]
  },
  "analysis": {
    "clarity": 85,
    "hierarchy": 90,
    "consistency": 80,
    "userExperience": 88
  },
  "recommendations": [
    {
      "category": "estructura",
      "priority": "media",
      "issue": "Jerarquía de encabezados inconsistente",
      "recommendation": "Asegurar que los encabezados sigan una jerarquía lógica",
      "impact": "Mejora en SEO y accesibilidad"
    }
    // Otras recomendaciones...
  ]
}
```

## Differences with the Basic API

This advanced API (`/api/site/analyze`) differs from the basic API (`/api/analyze`) in the following ways:

1. Implementation: Uses specialized services for different analysis types; the basic API uses the `analyzeSiteAction` function.
2. Options: Supports many advanced options (analysis type, depth, timeout, AI provider, etc.); the basic API has limited options.
3. Response: Returns a more detailed response structure with additional metadata.
4. Error handling: More sophisticated error handling with specific error types.

> Note: For simpler use cases, you can use the basic API `/api/analyze`. See the [Basic Analysis API documentation](/api/analysis/basic-analyze).

## Status Codes

- `200 OK`: Request completed successfully
- `400 Bad Request`: Invalid request parameters
- `404 Not Found`: Resource not found
- `429 Too Many Requests`: Rate limit exceeded
- `500 Internal Server Error`: Server error during analysis
- `504 Gateway Timeout`: Analysis timed out

## Usage Examples

### Perform a complete analysis

```javascript
const response = await fetch('https://yourdomain.com/api/site/analyze', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    options: {
      analysisType: 'complete',
      timeout: 45000,
      includeScreenshot: true,
      aiProvider: 'openai',
      aiModel: 'gpt-5-nano'
    }
  })
});

const data = await response.json();
console.log(data.performance.overall); // Performance score
console.log(data.recommendations); // Improvement recommendations
```

### Perform a structural analysis

```javascript
const response = await fetch('https://yourdomain.com/api/site/analyze/structure', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com',
    options: {
      depth: 3,
      aiProvider: 'anthropic',
      aiModel: 'claude-3-5-sonnet-20240620'
    }
  })
});

const data = await response.json();
console.log(data.structure); // Site structure
console.log(data.analysis); // Structure analysis
``` 