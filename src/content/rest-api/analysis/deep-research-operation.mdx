# Deep Research Operation

Realiza operaciones de investigaci√≥n especializadas utilizando **Google Custom Search API** como m√©todo principal, con SerpAPI y Tavily AI como fallbacks inteligentes. Perfecto para extraer noticias sobre LLMs, tendencias de IA, y an√°lisis de mercado con rangos temporales espec√≠ficos.

import { UnifiedApiTester } from '@/components/ApiTester';

## Endpoint

```http
POST /api/deepResearch/operation
```

## Tipos de Operaci√≥n

### 1. **LLM News** (`llm_news`)
B√∫squeda especializada de noticias sobre Large Language Models en Hacker News y otras fuentes de tecnolog√≠a.

### 2. **General News** (`general_news`) 
B√∫squeda general de noticias con filtros personalizables de fuentes y fechas.

### 3. **Custom Search** (`custom_search`)
B√∫squeda completamente personalizable con control total sobre par√°metros.

## Request Body

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `operation_type` | string | Yes | Tipo de operaci√≥n: `llm_news`, `general_news`, `custom_search` |
| `query` | string | Conditional | Query de b√∫squeda. Requerido para `general_news` y `custom_search` |
| `date_from` | string | No | Fecha de inicio en formato YYYY-MM-DD |
| `date_to` | string | No | Fecha de fin en formato YYYY-MM-DD |
| `sources` | array | No | Dominios a incluir en la b√∫squeda (ej: ["news.ycombinator.com"]) |
| `keywords` | array | No | Palabras clave adicionales para refinar la b√∫squeda |
| `max_results` | number | No | M√°ximo n√∫mero de resultados (1-100, default: 30) |
| `include_content_analysis` | boolean | No | Si incluir an√°lisis de contenido con Tavily (default: false) |
| `analysis_depth` | string | No | Profundidad del an√°lisis: `basic` o `advanced` (default: basic) |

## Ejemplos de Request

### B√∫squeda de Noticias LLM

```json
{
  "operation_type": "llm_news",
  "date_from": "2024-01-01",
  "date_to": "2024-12-31",
  "keywords": ["ChatGPT", "Claude", "OpenAI", "Anthropic"],
  "max_results": 50,
  "include_content_analysis": true,
  "analysis_depth": "advanced"
}
```

### B√∫squeda General de Noticias

```json
{
  "operation_type": "general_news",
  "query": "artificial intelligence startups funding",
  "date_from": "2024-06-01",
  "date_to": "2024-12-31",
  "sources": ["techcrunch.com", "venturebeat.com", "theverge.com"],
  "max_results": 30,
  "include_content_analysis": false
}
```

### B√∫squeda Personalizada

```json
{
  "operation_type": "custom_search",
  "query": "machine learning breakthrough OR neural networks advancement",
  "date_from": "2024-09-01",
  "date_to": "2024-12-31",
  "sources": ["arxiv.org"],
  "max_results": 20,
  "include_content_analysis": true,
  "analysis_depth": "basic"
}
```

## Response

### Success Response

```json
{
  "success": true,
  "operation_type": "llm_news",
  "query": "LLM and AI news",
  "date_range": {
    "from": "2024-01-01",
    "to": "2024-12-31"
  },
  "results": [
    {
      "title": "ChatGPT-4 Shows Remarkable Improvements in Mathematical Reasoning",
      "url": "https://news.ycombinator.com/item?id=38234567",
      "snippet": "Discussion about the latest improvements in ChatGPT-4's mathematical capabilities and reasoning abilities...",
      "domain": "news.ycombinator.com",
      "publishedDate": "2024-03-15",
      "content_analysis": {
        "summary": "The article discusses significant improvements in ChatGPT-4's mathematical reasoning capabilities, with benchmarks showing 40% better performance on complex mathematical problems.",
        "key_points": [
          "ChatGPT-4 shows 40% improvement in mathematical reasoning",
          "New training techniques focus on step-by-step problem solving",
          "Benchmarks include advanced calculus and discrete mathematics",
          "Implications for educational technology and research"
        ],
        "sentiment": "positive",
        "relevance_score": 8.5
      }
    }
  ],
  "total_results": 25,
  "processing_time_ms": 3450,
  "analysis_included": true
}
```

### Error Response

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Invalid request data",
    "details": [
      {
        "code": "invalid_type",
        "expected": "string",
        "received": "number",
        "path": ["operation_type"]
      }
    ]
  },
  "processing_time_ms": 150
}
```

## Error Codes

| Code | Description |
|------|-------------|
| `VALIDATION_ERROR` | Datos de request inv√°lidos o mal formateados |
| `MISSING_QUERY` | Query requerido para el tipo de operaci√≥n especificado |
| `INVALID_OPERATION` | Tipo de operaci√≥n no v√°lido |
| `SEARCH_FAILED` | La operaci√≥n de b√∫squeda fall√≥ |
| `SYSTEM_ERROR` | Error interno del sistema |

## Estrategia H√≠brida Inteligente

La API utiliza un enfoque de m√∫ltiples capas para garantizar resultados √≥ptimos:

### üéØ **M√©todo Principal: Google Custom Search API**
- **API oficial de Google** - m√°xima confiabilidad
- **Filtros de fecha nativos** con `dateRestrict`
- **100 b√∫squedas gratuitas/d√≠a** por proyecto
- **Metadatos ricos** incluyendo snippets y fechas de publicaci√≥n
- **Sin bloqueos** ni limitaciones de rate

### üêç **Alternativa Premium: SerpAPI**
- **M√°s volumen** para uso intensivo
- **Resultados en tiempo real** de Google
- **Sin l√≠mites de API** (plan de pago)
- **Metadatos extendidos** y resultados estructurados

### üîÑ **Fallback: Tavily AI**
- **√öltimo recurso** cuando Google APIs no est√°n disponibles
- **Siempre funcional** como respaldo
- **B√∫squedas inteligentes** con IA
- **Sin configuraci√≥n adicional** requerida

## Filtros de Fecha

La API optimiza filtros de fecha seg√∫n el m√©todo utilizado:

- **`after:YYYY-MM-DD`** - Buscar contenido despu√©s de la fecha especificada
- **`before:YYYY-MM-DD`** - Buscar contenido antes de la fecha especificada
- **Combinaci√≥n** - Usar ambos para crear rangos de fechas espec√≠ficos

### Ejemplos de Filtros

```javascript
// √öltimo mes
{
  "date_from": "2024-12-01",
  "date_to": "2024-12-31"
}

// √öltimo a√±o
{
  "date_from": "2024-01-01",
  "date_to": "2024-12-31"
}

// Rango espec√≠fico
{
  "date_from": "2024-06-15",
  "date_to": "2024-07-15"
}
```

## An√°lisis de Contenido

Cuando `include_content_analysis` est√° habilitado, la API utiliza Tavily para proporcionar:

### Componentes del An√°lisis

- **Summary**: Resumen del contenido del art√≠culo
- **Key Points**: Puntos clave extra√≠dos del contenido
- **Sentiment**: An√°lisis b√°sico de sentimiento (positive, negative, neutral)
- **Relevance Score**: Puntuaci√≥n de relevancia (0-10)

### Profundidad del An√°lisis

- **Basic**: An√°lisis r√°pido con puntos clave esenciales
- **Advanced**: An√°lisis profundo con mayor contexto y detalles

## Casos de Uso

### ü§ñ Inteligencia Competitiva en IA
```json
{
  "operation_type": "general_news",
  "query": "OpenAI OR Anthropic OR Google AI OR Microsoft AI",
  "date_from": "2024-10-01",
  "sources": ["techcrunch.com", "theverge.com", "arstechnica.com"],
  "include_content_analysis": true
}
```

### üìä Tendencias de Investigaci√≥n
```json
{
  "operation_type": "custom_search",
  "query": "multimodal AI OR vision language models OR reasoning",
  "sources": ["arxiv.org", "paperswithcode.com"],
  "include_content_analysis": true,
  "analysis_depth": "advanced"
}
```

### üí∞ An√°lisis de Mercado
```json
{
  "operation_type": "general_news",
  "query": "AI startup funding OR artificial intelligence investment",
  "sources": ["crunchbase.com", "venturebeat.com"],
  "date_from": "2024-01-01",
  "max_results": 50
}
```

### üîç Monitoreo de Tecnolog√≠a
```json
{
  "operation_type": "llm_news",
  "keywords": ["model release", "API update", "new features"],
  "date_from": "2024-12-01",
  "include_content_analysis": true
}
```

## Optimizaci√≥n y Mejores Pr√°cticas

### ‚ö° Rendimiento
- Usar `max_results` apropiados para tu caso de uso
- Habilitar `include_content_analysis` solo cuando necesites insights profundos
- Usar rangos de fechas espec√≠ficos para mejorar relevancia

### üéØ Precisi√≥n
- Combinar t√©rminos generales y espec√≠ficos en queries
- Usar `sources` para enfocar b√∫squedas en dominios relevantes
- Agregar `keywords` espec√≠ficos para b√∫squedas de LLM

### üìà Casos de Uso Avanzados
- **Monitoreo continuo**: Usar fechas recientes para tendencias actuales
- **Investigaci√≥n hist√≥rica**: Usar rangos amplios para an√°lisis temporal
- **An√°lisis competitivo**: Combinar m√∫ltiples sources con keywords espec√≠ficos

## Configuraci√≥n

### Variables de Entorno Requeridas

```bash
# Google Custom Search API (M√©todo principal)
GOOGLE_CLOUD_API_KEY=your_google_api_key_here
GOOGLE_CSE_ID=your_custom_search_engine_id

# SerpAPI (Alternativa premium - opcional)
SERPAPI_KEY=your_serpapi_key_here

# Tavily API (Fallback - ya configurado)
TAVILY_API_KEY=your_tavily_key_here
```

### C√≥mo Obtener Google API Key

1. **Google Cloud Console**: Ve a [console.cloud.google.com](https://console.cloud.google.com/)
2. **Habilita Custom Search API**: En APIs & Services
3. **Crea credenciales**: Genera una API Key
4. **Configura Custom Search Engine**: En [programmablesearchengine.google.com](https://programmablesearchengine.google.com/)

### L√≠mites y Costos

- **Google Custom Search**: 100 b√∫squedas gratuitas/d√≠a
- **SerpAPI**: Planes desde $50/mes para uso comercial
- **Tavily**: L√≠mites seg√∫n tu plan actual

## Try It

Test the Deep Research Operation API using our interactive API tester. Explora diferentes tipos de operaci√≥n y ve c√≥mo funcionan los filtros de fecha con Google Search.

**Ejemplos R√°pidos:**

1. **LLM News**: Buscar las √∫ltimas noticias sobre modelos de lenguaje
2. **Tech Trends**: Investigar tendencias espec√≠ficas en tecnolog√≠a
3. **Market Research**: Analizar el mercado de IA con an√°lisis de contenido
4. **Academic Research**: Buscar papers y investigaci√≥n reciente

<UnifiedApiTester apiId="deep-research-operation" />
